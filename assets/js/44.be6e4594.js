(window.webpackJsonp=window.webpackJsonp||[]).push([[44],{357:function(e,t,s){"use strict";s.r(t);var a=s(7),r=Object(a.a)({},(function(){var e=this,t=e._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[t("p",[t("img",{attrs:{src:"https://b3logfile.com/bing/20180902.jpg?imageView2/1/w/960/h/540/interlace/1/q/100",alt:"ds"}})]),e._v(" "),t("p",[e._v("es不能以root用户运行\n需要新建账户来启动\norg.elasticsearch.bootstrap.StartupException: java.lang.RuntimeException: can not run elasticsearch as root")]),e._v(" "),t("p",[e._v("前提：安装jdk8")]),e._v(" "),t("p",[e._v("设置内核参数\nvim /etc/sysctl.conf\nvm.max_map_count=655360\n/sbin/sysctl -p")]),e._v(" "),t("p",[e._v("vim /etc/security/limits.conf")]),e._v(" "),t("ul",[t("li",[e._v("*soft nofile 65536")]),e._v(" "),t("li",[e._v("*hard nofile 131072")]),e._v(" "),t("li",[e._v("*soft nproc 65536")]),e._v(" "),t("li",[e._v("*hard nproc 131072")])]),e._v(" "),t("p",[e._v("vim /etc/security/limits.d/20-nproc.conf\nes         soft    nproc     65536")]),e._v(" "),t("p",[e._v("创建用户和用户组\ngroupadd es")]),e._v(" "),t("p",[e._v("useradd es -g es -p xx")]),e._v(" "),t("p",[e._v("mkdir -p /data/es-data\nmkdir -p /data/es-log")]),e._v(" "),t("p",[e._v("rpm -ivh elaxxxx.rpm\n安装路径：/usr/share/elasticsearch/")]),e._v(" "),t("p",[e._v("chown -R es:es xxxxx")]),e._v(" "),t("p",[e._v("chown -R es:es /etc/elasticsearch/\nchown -R es:es /data\nchown es:es /etc/sysconfig/elasticsearch\nchown -R es:es /var/log/elasticsearch")]),e._v(" "),t("p",[e._v("修改配置文件/etc/elasticsearch/elasticsearch.yml")]),e._v(" "),t("p",[e._v('http.cors.enabled: true\nhttp.cors.allow‐origin: "*"')]),e._v(" "),t("p",[e._v("后台启动 bin/elasticsearch -d")]),e._v(" "),t("p",[e._v("使用elasticsearch\n查看集群状态 "),t("a",{attrs:{href:"http://192.168.10.10:9200/_cat/health?v",target:"_blank",rel:"noopener noreferrer"}},[e._v("http://192.168.10.10:9200/_cat/health?v"),t("OutboundLink")],1)]),e._v(" "),t("p",[e._v("安装kibana")]),e._v(" "),t("p",[e._v("[04:59:08.140] [fatal][root] Error: Unable to write Kibana UUID file, please check the uuid.server configuration value in kibana.yml and ensure Kibana has sufficient permissions to read / write to this file. Error was: ENOENT\nat writeUuidToFile (/usr/share/kibana/src/core/server/uuid/resolve_uuid.js:123:11)")])])}),[],!1,null,null,null);t.default=r.exports}}]);