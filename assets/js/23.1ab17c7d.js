(window.webpackJsonp=window.webpackJsonp||[]).push([[23],{336:function(a,s,t){"use strict";t.r(s);var r=t(7),e=Object(r.a)({},(function(){var a=this,s=a._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[a._v("提示")]),a._v(" "),s("p",[a._v("Kuboard-Spray 是一款可以在图形界面引导下完成 Kubernetes 高可用集群离线安装的工具，开源仓库的地址为"),s("a",{attrs:{href:"https://github.com/eip-work/kuboard-spray",target:"_blank",rel:"noopener noreferrer"}},[a._v("Kuboard-Spray"),s("OutboundLink")],1)])]),a._v(" "),s("p",[a._v("我的环境是centos7.9,准备四台虚拟机，一台安装Kuboard-Spray，用于集群安装，有web界面操作非常方便，\n可以使用这台机器安装多个k8s集群,并对集群进行后期管理，比如增加新节点、配置docker国内源等调整集群的操作。")]),a._v(" "),s("p",[a._v("Kuboard-Spray使用docker安装官网提供了命令，很快容器就能起来。")]),a._v(" "),s("div",{staticClass:"language-shell line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("docker")]),a._v(" run "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-d")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n  "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--privileged")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n  "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--restart")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("unless-stopped "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n  "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--name")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("kuboard-spray "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n  "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-p")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("80")]),a._v(":80/tcp "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n  "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-v")]),a._v(" /var/run/docker.sock:/var/run/docker.sock "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n  "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-v")]),a._v(" ~/kuboard-spray-data:/data "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n  eipwork/kuboard-spray:latest-amd64\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 如果抓不到这个镜像，可以尝试一下这个备用地址：")]),a._v("\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# swr.cn-east-2.myhuaweicloud.com/kuboard/kuboard-spray:latest-amd64")]),a._v("\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br"),s("span",{staticClass:"line-number"},[a._v("3")]),s("br"),s("span",{staticClass:"line-number"},[a._v("4")]),s("br"),s("span",{staticClass:"line-number"},[a._v("5")]),s("br"),s("span",{staticClass:"line-number"},[a._v("6")]),s("br"),s("span",{staticClass:"line-number"},[a._v("7")]),s("br"),s("span",{staticClass:"line-number"},[a._v("8")]),s("br"),s("span",{staticClass:"line-number"},[a._v("9")]),s("br"),s("span",{staticClass:"line-number"},[a._v("10")]),s("br")])]),s("p",[a._v("浏览器打开地址 "),s("code",[a._v("http://这台机器的IP")]),a._v("，输入用户名 admin，默认密码 Kuboard123，即可登录 Kuboard-Spray 界面。")]),a._v(" "),s("p",[a._v("首先需要把安装k8s的资源包搞好。"),s("br"),a._v("\n在资源包管理里选择一个开始让系统下载资源包，如图。\n"),s("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/poshangqiucao/BlogPictures/pictures/2022-11-23_15-15-36.png",alt:"2022-11-23_15-15-36"}})]),a._v(" "),s("p",[a._v("建议自己复制上面的pull命令去执行拉取。")]),a._v(" "),s("p",[a._v("资源导入完成后，点击菜单集群管理=》添加集群安装计划")]),a._v(" "),s("p",[s("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/poshangqiucao/BlogPictures/pictures/2022-11-23_15-38-49.png",alt:"2022-11-23_15-38-49"}})]),a._v(" "),s("p",[a._v("然后进入集群安装界面\n添加机器，选择机器角色，设置相关参数即可。\n完事点击执行就等着安装完成吧。")]),a._v(" "),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[a._v("提示")]),a._v(" "),s("p",[a._v("经验：使用docker作为容器引擎的，需要配置docker的安装源。我这里是使用清华的源成功了。\n最好操作系统的软件源也配置一下，我也是使用清华的源。")])])])}),[],!1,null,null,null);s.default=e.exports}}]);